<?php
/**
 * Generated by Haxe 4.0.2
 */

namespace tink\core\_Callback;

use \php\Boot;
use \tink\core\LinkObject;

final class CallbackList_Impl_ {

	/**
	 * @param \Array_hx $this
	 * @param \Closure $cb
	 * 
	 * @return LinkObject
	 */
	public static function add ($this1, $cb) {
		#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:160: characters 5-39
		$node = new ListCell($cb, $this1);
		#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:161: characters 5-20
		$this1->arr[$this1->length] = $node;
		++$this1->length;

		#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:162: characters 5-16
		return $node;
	}

	/**
	 * @param \Array_hx $this
	 * 
	 * @return void
	 */
	public static function clear ($this1) {
		#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:170: lines 170-171
		$_g = 0;
		$_g1 = $this1->splice(0, $this1->length);
		while ($_g < $_g1->length) {
			#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:170: characters 10-14
			$cell = ($_g1->arr[$_g] ?? null);
			#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:170: lines 170-171
			++$_g;
			#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:171: characters 7-19
			$cell->clear();
		}
	}

	/**
	 * @param \Array_hx $this
	 * @param mixed $data
	 * 
	 * @return void
	 */
	public static function invoke ($this1, $data) {
		#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:166: lines 166-167
		$_g = 0;
		$_g1 = (clone $this1);
		while ($_g < $_g1->length) {
			#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:166: characters 10-14
			$cell = ($_g1->arr[$_g] ?? null);
			#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:166: lines 166-167
			++$_g;
			#/home/jahred/haxelib/tink_core/1,23,0/src/tink/core/Callback.hx:167: characters 7-24
			if ($cell->cb !== null) {
				Callback_Impl_::invoke($cell->cb, $data);
			}
		}
	}
}

Boot::registerClass(CallbackList_Impl_::class, 'tink.core._Callback.CallbackList_Impl_');
