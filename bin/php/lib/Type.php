<?php
/**
 * Generated by Haxe 4.0.2
 */

use \php\_Boot\HxAnon;
use \php\Boot;
use \php\_Boot\HxClass;
use \php\_Boot\HxString;
use \php\_Boot\HxClosure;
use \php\_Boot\HxEnum;

/**
 * The Haxe Reflection API allows retrieval of type information at runtime.
 * This class complements the more lightweight Reflect class, with a focus on
 * class and enum instances.
 * @see https://haxe.org/manual/types.html
 * @see https://haxe.org/manual/std-reflection.html
 */
class Type {
	/**
	 * Returns the class of `o`, if `o` is a class instance.
	 * If `o` is null or of a different type, null is returned.
	 * In general, type parameter information cannot be obtained at runtime.
	 * 
	 * @param mixed $o
	 * 
	 * @return Class
	 */
	public static function getClass ($o) {
		#/usr/share/haxe/std/php/_std/Type.hx:43: lines 43-50
		if (is_object($o) && !($o instanceof HxClass) && !($o instanceof HxEnum)) {
			#/usr/share/haxe/std/php/_std/Type.hx:44: characters 4-54
			$cls = Boot::getClass(get_class($o));
			#/usr/share/haxe/std/php/_std/Type.hx:45: characters 11-54
			if ($cls === Boot::getClass(HxAnon::class)) {
				#/usr/share/haxe/std/php/_std/Type.hx:45: characters 38-42
				return null;
			} else {
				#/usr/share/haxe/std/php/_std/Type.hx:45: characters 45-53
				return $cls;
			}
		} else if (is_string($o)) {
			#/usr/share/haxe/std/php/_std/Type.hx:47: characters 4-22
			return Boot::getClass('String');
		} else {
			#/usr/share/haxe/std/php/_std/Type.hx:49: characters 4-15
			return null;
		}
	}

	/**
	 * Returns a list of the instance fields of class `c`, including
	 * inherited fields.
	 * This only includes fields which are known at compile-time. In
	 * particular, using `getInstanceFields(getClass(obj))` will not include
	 * any fields which were added to `obj` at runtime.
	 * The order of the fields in the returned Array is unspecified.
	 * If `c` is null, the result is unspecified.
	 * (As3) This method only returns instance fields that are public.
	 * 
	 * @param Class $c
	 * 
	 * @return \Array_hx
	 */
	public static function getInstanceFields ($c) {
		#/usr/share/haxe/std/php/_std/Type.hx:189: lines 189-190
		if ($c === null) {
			#/usr/share/haxe/std/php/_std/Type.hx:190: characters 4-15
			return null;
		}
		#/usr/share/haxe/std/php/_std/Type.hx:191: lines 191-195
		if ($c === Boot::getClass('String')) {
			#/usr/share/haxe/std/php/_std/Type.hx:192: lines 192-194
			return \Array_hx::wrap([
				"substr",
				"charAt",
				"charCodeAt",
				"indexOf",
				"lastIndexOf",
				"split",
				"toLowerCase",
				"toUpperCase",
				"toString",
				"length",
			]);
		}
		#/usr/share/haxe/std/php/_std/Type.hx:197: characters 3-67
		$reflection = new \ReflectionClass($c->phpClassName);
		#/usr/share/haxe/std/php/_std/Type.hx:199: characters 17-34
		$this1 = [];
		#/usr/share/haxe/std/php/_std/Type.hx:199: characters 3-35
		$methods = $this1;
		#/usr/share/haxe/std/php/_std/Type.hx:200: characters 18-41
		$data = $reflection->getMethods();
		$_g_current = 0;
		$_g_length = count($data);
		$_g_data = $data;
		#/usr/share/haxe/std/php/_std/Type.hx:200: lines 200-207
		while ($_g_current < $_g_length) {
			$method = $_g_data[$_g_current++];
			#/usr/share/haxe/std/php/_std/Type.hx:201: lines 201-206
			if (!$method->isStatic()) {
				#/usr/share/haxe/std/php/_std/Type.hx:202: characters 5-33
				$name = $method->getName();
				#/usr/share/haxe/std/php/_std/Type.hx:203: lines 203-205
				if (!(($name === "__construct") || (HxString::indexOf($name, "__hx_") === 0))) {
					#/usr/share/haxe/std/php/_std/Type.hx:204: characters 6-30
					array_push($methods, $name);
				}
			}
		}

		#/usr/share/haxe/std/php/_std/Type.hx:209: characters 20-37
		$this2 = [];
		#/usr/share/haxe/std/php/_std/Type.hx:209: characters 3-38
		$properties = $this2;
		#/usr/share/haxe/std/php/_std/Type.hx:210: characters 20-46
		$data1 = $reflection->getProperties();
		$_g1_current = 0;
		$_g1_length = count($data1);
		$_g1_data = $data1;
		#/usr/share/haxe/std/php/_std/Type.hx:210: lines 210-217
		while ($_g1_current < $_g1_length) {
			$property = $_g1_data[$_g1_current++];
			#/usr/share/haxe/std/php/_std/Type.hx:211: lines 211-216
			if (!$property->isStatic()) {
				#/usr/share/haxe/std/php/_std/Type.hx:212: characters 5-35
				$name1 = $property->getName();
				#/usr/share/haxe/std/php/_std/Type.hx:213: lines 213-215
				if (!(($name1 === "__construct") || (HxString::indexOf($name1, "__hx_") === 0))) {
					#/usr/share/haxe/std/php/_std/Type.hx:214: characters 6-33
					array_push($properties, $name1);
				}
			}
		}

		#/usr/share/haxe/std/php/_std/Type.hx:218: characters 3-13
		$properties = array_diff($properties, $methods);
		#/usr/share/haxe/std/php/_std/Type.hx:220: characters 3-56
		$fields = array_merge($properties, $methods);
		#/usr/share/haxe/std/php/_std/Type.hx:222: characters 3-44
		return \Array_hx::wrap($fields);
	}

	/**
	 * Returns the runtime type of value `v`.
	 * The result corresponds to the type `v` has at runtime, which may vary
	 * per platform. Assumptions regarding this should be minimized to avoid
	 * surprises.
	 * 
	 * @param mixed $v
	 * 
	 * @return \ValueType
	 */
	public static function typeof ($v) {
		#/usr/share/haxe/std/php/_std/Type.hx:263: lines 263-264
		if ($v === null) {
			#/usr/share/haxe/std/php/_std/Type.hx:264: characters 4-16
			return \ValueType::TNull();
		}
		#/usr/share/haxe/std/php/_std/Type.hx:266: lines 266-278
		if (is_object($v)) {
			#/usr/share/haxe/std/php/_std/Type.hx:267: lines 267-268
			if (($v instanceof \Closure) || ($v instanceof HxClosure)) {
				#/usr/share/haxe/std/php/_std/Type.hx:268: characters 5-21
				return \ValueType::TFunction();
			}
			#/usr/share/haxe/std/php/_std/Type.hx:269: lines 269-270
			if (($v instanceof \StdClass)) {
				#/usr/share/haxe/std/php/_std/Type.hx:270: characters 5-19
				return \ValueType::TObject();
			}
			#/usr/share/haxe/std/php/_std/Type.hx:271: lines 271-272
			if (($v instanceof HxClass)) {
				#/usr/share/haxe/std/php/_std/Type.hx:272: characters 5-19
				return \ValueType::TObject();
			}
			#/usr/share/haxe/std/php/_std/Type.hx:274: characters 4-53
			$hxClass = Boot::getClass(get_class($v));
			#/usr/share/haxe/std/php/_std/Type.hx:275: lines 275-276
			if (($v instanceof HxEnum)) {
				#/usr/share/haxe/std/php/_std/Type.hx:276: characters 5-31
				return \ValueType::TEnum($hxClass);
			}
			#/usr/share/haxe/std/php/_std/Type.hx:277: characters 4-31
			return \ValueType::TClass($hxClass);
		}
		#/usr/share/haxe/std/php/_std/Type.hx:280: lines 280-281
		if (is_bool($v)) {
			#/usr/share/haxe/std/php/_std/Type.hx:281: characters 4-16
			return \ValueType::TBool();
		}
		#/usr/share/haxe/std/php/_std/Type.hx:282: lines 282-283
		if (is_int($v)) {
			#/usr/share/haxe/std/php/_std/Type.hx:283: characters 4-15
			return \ValueType::TInt();
		}
		#/usr/share/haxe/std/php/_std/Type.hx:284: lines 284-285
		if (is_float($v)) {
			#/usr/share/haxe/std/php/_std/Type.hx:285: characters 4-17
			return \ValueType::TFloat();
		}
		#/usr/share/haxe/std/php/_std/Type.hx:286: lines 286-287
		if (is_string($v)) {
			#/usr/share/haxe/std/php/_std/Type.hx:287: characters 4-25
			return \ValueType::TClass(Boot::getClass('String'));
		}
		#/usr/share/haxe/std/php/_std/Type.hx:289: characters 3-18
		return \ValueType::TUnknown();
	}
}

Boot::registerClass(Type::class, 'Type');
